{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/chouaib/code/learn/frontend/contexts/context.utils.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nexport function createCtxWithReducer(reducer, initialState) {\n  var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n  var defaultDispatch = function defaultDispatch() {\n    return initialState;\n  };\n  var stateCtx = React.createContext(initialState);\n  var dispatchCtx = React.createContext(defaultDispatch);\n  function useStateCtx(property) {\n    _s();\n    var state = React.useContext(stateCtx);\n    if (state === undefined) {\n      throw new Error('useCountState must be used within a CountProvider');\n    }\n    return state[property]; // only one depth selector for comparison\n  }\n  _s(useStateCtx, \"kdLImxeHm3898p7tqgy8Fclg5s8=\");\n  function useDispatchCtx() {\n    _s2();\n    var context = React.useContext(dispatchCtx);\n    if (context === undefined) {\n      throw new Error('useCountDispatch must be used within a CountProvider');\n    }\n    return context;\n  }\n  _s2(useDispatchCtx, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  function Provider(_ref) {\n    _s3();\n    var children = _ref.children;\n    var _React$useReducer = React.useReducer(reducer, initialState),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n    return __jsx(dispatchCtx.Provider, {\n      value: dispatch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }, __jsx(stateCtx.Provider, {\n      value: state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, children));\n  }\n  // return [ctx, Provider] as const;\n  _s3(Provider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n  return [useStateCtx, useDispatchCtx, Provider];\n}\n\n// create context with no upfront defaultValue\n// without having to do undefined check all the time\nexport function createCtx() {\n  var _s4 = $RefreshSig$();\n  var ctx = React.createContext(undefined);\n  function useCtx() {\n    _s4();\n    var c = React.useContext(ctx);\n    if (!c) throw new Error('useCtx must be inside a Provider with a value');\n    return c;\n  }\n  _s4(useCtx, \"rCFJOMMDYLWM7qBzTJAGkiO6eRA=\");\n  return [useCtx, ctx.Provider]; // make TypeScript infer a tuple, not an array of union types\n}","map":{"version":3,"names":["React","createCtxWithReducer","reducer","initialState","_s","$RefreshSig$","_s2","_s3","defaultDispatch","stateCtx","createContext","dispatchCtx","useStateCtx","property","state","useContext","undefined","Error","useDispatchCtx","context","Provider","_ref","children","_React$useReducer","useReducer","_React$useReducer2","_slicedToArray","dispatch","__jsx","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","createCtx","_s4","ctx","useCtx","c"],"sources":["/home/chouaib/code/learn/frontend/contexts/context.utils.tsx"],"sourcesContent":["import React from 'react';\nexport function createCtxWithReducer<StateType, ActionType>(\n  reducer: React.Reducer<StateType, ActionType>,\n  initialState: StateType\n) {\n  const defaultDispatch: React.Dispatch<ActionType> = () => initialState;\n  const stateCtx = React.createContext(initialState);\n  const dispatchCtx = React.createContext(defaultDispatch);\n  function useStateCtx<K extends keyof StateType>(property: K) {\n    const state = React.useContext(stateCtx);\n    if (state === undefined) {\n      throw new Error('useCountState must be used within a CountProvider');\n    }\n    return state[property]; // only one depth selector for comparison\n  }\n\n  function useDispatchCtx() {\n    const context = React.useContext(dispatchCtx);\n    if (context === undefined) {\n      throw new Error('useCountDispatch must be used within a CountProvider');\n    }\n    return context;\n  }\n\n  function Provider({ children }: React.PropsWithChildren<{}>) {\n    const [state, dispatch] = React.useReducer<\n      React.Reducer<StateType, ActionType>\n    >(reducer, initialState);\n    return (\n      <dispatchCtx.Provider value={dispatch}>\n        <stateCtx.Provider value={state}>{children}</stateCtx.Provider>\n      </dispatchCtx.Provider>\n    );\n  }\n  // return [ctx, Provider] as const;\n  return [useStateCtx, useDispatchCtx, Provider] as const;\n}\n\n// create context with no upfront defaultValue\n// without having to do undefined check all the time\nexport function createCtx<A>() {\n  const ctx = React.createContext<A | undefined>(undefined);\n  function useCtx() {\n    const c = React.useContext(ctx);\n    if (!c) throw new Error('useCtx must be inside a Provider with a value');\n    return c;\n  }\n  return [useCtx, ctx.Provider] as const; // make TypeScript infer a tuple, not an array of union types\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,SAASC,oBAAoBA,CAClCC,OAA6C,EAC7CC,YAAuB,EACvB;EAAA,IAAAC,EAAA,GAAAC,YAAA;IAAAC,GAAA,GAAAD,YAAA;IAAAE,GAAA,GAAAF,YAAA;EACA,IAAMG,eAA2C,GAAG,SAA9CA,eAA2CA,CAAA;IAAA,OAASL,YAAY;EAAA;EACtE,IAAMM,QAAQ,GAAGT,KAAK,CAACU,aAAa,CAACP,YAAY,CAAC;EAClD,IAAMQ,WAAW,GAAGX,KAAK,CAACU,aAAa,CAACF,eAAe,CAAC;EACxD,SAASI,WAAWA,CAA4BC,QAAW,EAAE;IAAAT,EAAA;IAC3D,IAAMU,KAAK,GAAGd,KAAK,CAACe,UAAU,CAACN,QAAQ,CAAC;IACxC,IAAIK,KAAK,KAAKE,SAAS,EAAE;MACvB,MAAM,IAAIC,KAAK,CAAC,mDAAmD,CAAC;IACtE;IACA,OAAOH,KAAK,CAACD,QAAQ,CAAC,CAAC,CAAC;EAC1B;EAACT,EAAA,CANQQ,WAAW;EAQpB,SAASM,cAAcA,CAAA,EAAG;IAAAZ,GAAA;IACxB,IAAMa,OAAO,GAAGnB,KAAK,CAACe,UAAU,CAACJ,WAAW,CAAC;IAC7C,IAAIQ,OAAO,KAAKH,SAAS,EAAE;MACzB,MAAM,IAAIC,KAAK,CAAC,sDAAsD,CAAC;IACzE;IACA,OAAOE,OAAO;EAChB;EAACb,GAAA,CANQY,cAAc;EAQvB,SAASE,QAAQA,CAAAC,IAAA,EAA4C;IAAAd,GAAA;IAAA,IAAzCe,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAC1B,IAAAC,iBAAA,GAA0BvB,KAAK,CAACwB,UAAU,CAExCtB,OAAO,EAAEC,YAAY,CAAC;MAAAsB,kBAAA,GAAAC,cAAA,CAAAH,iBAAA;MAFjBT,KAAK,GAAAW,kBAAA;MAAEE,QAAQ,GAAAF,kBAAA;IAGtB,OACEG,KAAA,CAACjB,WAAW,CAACS,QAAQ;MAACS,KAAK,EAAEF,QAAS;MAAAG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACpCP,KAAA,CAACnB,QAAQ,CAACW,QAAQ;MAACS,KAAK,EAAEf,KAAM;MAAAgB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEb,QAA4B,CAC1C,CAAC;EAE3B;EACA;EAAAf,GAAA,CAVSa,QAAQ;EAWjB,OAAO,CAACR,WAAW,EAAEM,cAAc,EAAEE,QAAQ,CAAC;AAChD;;AAEA;AACA;AACA,OAAO,SAASgB,SAASA,CAAA,EAAM;EAAA,IAAAC,GAAA,GAAAhC,YAAA;EAC7B,IAAMiC,GAAG,GAAGtC,KAAK,CAACU,aAAa,CAAgBM,SAAS,CAAC;EACzD,SAASuB,MAAMA,CAAA,EAAG;IAAAF,GAAA;IAChB,IAAMG,CAAC,GAAGxC,KAAK,CAACe,UAAU,CAACuB,GAAG,CAAC;IAC/B,IAAI,CAACE,CAAC,EAAE,MAAM,IAAIvB,KAAK,CAAC,+CAA+C,CAAC;IACxE,OAAOuB,CAAC;EACV;EAACH,GAAA,CAJQE,MAAM;EAKf,OAAO,CAACA,MAAM,EAAED,GAAG,CAAClB,QAAQ,CAAC,CAAU,CAAC;AAC1C","ignoreList":[]},"metadata":{},"sourceType":"module"}