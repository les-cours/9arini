{"ast":null,"code":"function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nimport axios from \"axios\";\nasync function client(endpoint, token, _ref = {}) {\n  let {\n      body\n    } = _ref,\n    customConfig = _objectWithoutProperties(_ref, [\"body\"]);\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  const config = {\n    headers: _objectSpread(_objectSpread({}, headers), customConfig.headers)\n  };\n  if (body) {\n    config.body = JSON.stringify(body);\n  }\n  try {\n    const data = await axios.get(`${process.env.APP_AUTH_SERVICE}${endpoint}`, {\n      params: {},\n      headers: _objectSpread({}, headers)\n    });\n    return {\n      data: data,\n      error: undefined\n    };\n  } catch (err) {\n    console.error(\"Error validating token\", err);\n    return {\n      data: undefined,\n      error: err\n    };\n  }\n\n  //   return window.fetch(`/api/${endpoint}`, config).then((r) => r.json());\n}\nexport default client;","map":{"version":3,"names":["axios","client","endpoint","token","_ref","body","customConfig","_objectWithoutProperties","headers","Authorization","config","_objectSpread","JSON","stringify","data","get","process","env","APP_AUTH_SERVICE","params","error","undefined","err","console"],"sources":["/home/chouaib/code/learn/frontend/contexts/Auth.js"],"sourcesContent":["import axios from \"axios\";\n\nasync function client(endpoint, token, { body, ...customConfig } = {}) {\n    const headers = { \"Content-Type\": \"application/json\" };\n    if (token) {\n        headers.Authorization = `Bearer ${token}`;\n    }\n    const config = {\n        headers: {\n            ...headers,\n            ...customConfig.headers,\n        },\n    };\n    if (body) {\n        config.body = JSON.stringify(body);\n    }\n    try {\n        const data = await axios.get(`${process.env.APP_AUTH_SERVICE}${endpoint}`, {\n            params: {},\n            headers: { ...headers },\n        });\n        return { data: data, error: undefined };\n    } catch (err) {\n        console.error(\"Error validating token\", err);\n        return { data: undefined, error: err };\n    }\n\n    //   return window.fetch(`/api/${endpoint}`, config).then((r) => r.json());\n}\n\nexport default client;\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAeC,MAAMA,CAACC,QAAQ,EAAEC,KAAK,EAAEC,IAAA,GAA4B,CAAC,CAAC,EAAE;EAAA,IAAhC;MAAEC;IAAsB,CAAC,GAAAD,IAAA;IAAdE,YAAY,GAAAC,wBAAA,CAAAH,IAAA;EAC1D,MAAMI,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,IAAIL,KAAK,EAAE;IACPK,OAAO,CAACC,aAAa,GAAI,UAASN,KAAM,EAAC;EAC7C;EACA,MAAMO,MAAM,GAAG;IACXF,OAAO,EAAAG,aAAA,CAAAA,aAAA,KACAH,OAAO,GACPF,YAAY,CAACE,OAAO;EAE/B,CAAC;EACD,IAAIH,IAAI,EAAE;IACNK,MAAM,CAACL,IAAI,GAAGO,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC;EACtC;EACA,IAAI;IACA,MAAMS,IAAI,GAAG,MAAMd,KAAK,CAACe,GAAG,CAAE,GAAEC,OAAO,CAACC,GAAG,CAACC,gBAAiB,GAAEhB,QAAS,EAAC,EAAE;MACvEiB,MAAM,EAAE,CAAC,CAAC;MACVX,OAAO,EAAAG,aAAA,KAAOH,OAAO;IACzB,CAAC,CAAC;IACF,OAAO;MAAEM,IAAI,EAAEA,IAAI;MAAEM,KAAK,EAAEC;IAAU,CAAC;EAC3C,CAAC,CAAC,OAAOC,GAAG,EAAE;IACVC,OAAO,CAACH,KAAK,CAAC,wBAAwB,EAAEE,GAAG,CAAC;IAC5C,OAAO;MAAER,IAAI,EAAEO,SAAS;MAAED,KAAK,EAAEE;IAAI,CAAC;EAC1C;;EAEA;AACJ;AAEA,eAAerB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}