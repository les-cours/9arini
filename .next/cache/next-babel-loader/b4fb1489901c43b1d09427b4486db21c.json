{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar _this = this,\n  _jsxFileName = \"/home/chouaib/code/learn/frontend/containers/Todo/TodoContext.tsx\",\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\n/**\n * fake Todo data generator\n */\nvar initial = Array.from({\n  length: 5\n}, function (v, k) {\n  return k;\n}).map(function (k) {\n  var custom = {\n    id: \"id-\".concat(k),\n    content: \"Make a short list for invision\",\n    status: 'pending' // \"done\" or \"pending\"\n  };\n  return custom;\n});\nexport var TodoContext = React.createContext({});\nvar TodoProvider = function TodoProvider(props) {\n  _s();\n  var _useState = useState(initial),\n    todos = _useState[0],\n    setTodos = _useState[1];\n  var addTodo = function addTodo(value) {\n    var newTodo = {\n      id: \"id-\".concat(Date.now()),\n      content: \"\".concat(value),\n      status: 'pending'\n    };\n    todos.push(newTodo);\n    setTodos(_toConsumableArray(todos)); // have to use this way [...todos]\n  };\n  var updateTodo = function updateTodo(todoItem) {\n    var index = todos.findIndex(function (todo) {\n      return todo.id === todoItem.id;\n    });\n    todos[index] = todoItem;\n    setTodos(_toConsumableArray(todos));\n  };\n  var removeTodo = function removeTodo(todoId) {\n    var index = todos.findIndex(function (todo) {\n      return todo.id === todoId;\n    });\n    todos.splice(index, 1);\n    setTodos(_toConsumableArray(todos));\n  };\n  return __jsx(TodoContext.Provider, {\n    value: {\n      todos: todos,\n      setTodos: setTodos,\n      addTodo: addTodo,\n      updateTodo: updateTodo,\n      removeTodo: removeTodo\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n_s(TodoProvider, \"MVeG3DrnAtSQWt/vBiixLR/pL0A=\");\n_c = TodoProvider;\nexport default TodoProvider;\nvar _c;\n$RefreshReg$(_c, \"TodoProvider\");","map":{"version":3,"names":["React","useState","initial","Array","from","length","v","k","map","custom","id","concat","content","status","TodoContext","createContext","TodoProvider","props","_s","_useState","todos","setTodos","addTodo","value","newTodo","Date","now","push","_toConsumableArray","updateTodo","todoItem","index","findIndex","todo","removeTodo","todoId","splice","__jsx","Provider","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","children","_c","$RefreshReg$"],"sources":["/home/chouaib/code/learn/frontend/containers/Todo/TodoContext.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { TodoType } from './TodoType';\n\ninterface ContextProps {\n  todos: TodoType[];\n  setTodos: any;\n  addTodo: Function;\n  updateTodo: Function;\n  removeTodo: Function;\n}\n\n/**\n * fake Todo data generator\n */\nconst initial = Array.from({ length: 5 }, (v, k) => k).map(k => {\n  const custom: TodoType = {\n    id: `id-${k}`,\n    content: `Make a short list for invision`,\n    status: 'pending', // \"done\" or \"pending\"\n  };\n  return custom;\n});\n\nexport const TodoContext = React.createContext({} as ContextProps);\n\nconst TodoProvider = (props: any) => {\n  const [todos, setTodos] = useState(initial as TodoType[]);\n\n  const addTodo = (value: string) => {\n    const newTodo: TodoType = {\n      id: `id-${Date.now()}`,\n      content: `${value}`,\n      status: 'pending',\n    };\n    todos.push(newTodo);\n    setTodos([...todos]); // have to use this way [...todos]\n  };\n\n  const updateTodo = (todoItem: TodoType) => {\n    const index = todos.findIndex(todo => todo.id === todoItem.id);\n    todos[index] = todoItem;\n    setTodos([...todos]);\n  };\n\n  const removeTodo = (todoId: string | number) => {\n    const index = todos.findIndex(todo => todo.id === todoId);\n    todos.splice(index, 1);\n    setTodos([...todos]);\n  };\n\n  return (\n    <TodoContext.Provider\n      value={{\n        todos,\n        setTodos,\n        addTodo,\n        updateTodo,\n        removeTodo,\n      }}\n    >\n      {props.children}\n    </TodoContext.Provider>\n  );\n};\n\nexport default TodoProvider;\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAWvC;AACA;AACA;AACA,IAAMC,OAAO,GAAGC,KAAK,CAACC,IAAI,CAAC;EAAEC,MAAM,EAAE;AAAE,CAAC,EAAE,UAACC,CAAC,EAAEC,CAAC;EAAA,OAAKA,CAAC;AAAA,EAAC,CAACC,GAAG,CAAC,UAAAD,CAAC,EAAI;EAC9D,IAAME,MAAgB,GAAG;IACvBC,EAAE,QAAAC,MAAA,CAAQJ,CAAC,CAAE;IACbK,OAAO,kCAAkC;IACzCC,MAAM,EAAE,SAAS,CAAE;EACrB,CAAC;EACD,OAAOJ,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,IAAMK,WAAW,GAAGd,KAAK,CAACe,aAAa,CAAC,CAAC,CAAiB,CAAC;AAElE,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,KAAU,EAAK;EAAAC,EAAA;EACnC,IAAAC,SAAA,GAA0BlB,QAAQ,CAACC,OAAqB,CAAC;IAAlDkB,KAAK,GAAAD,SAAA;IAAEE,QAAQ,GAAAF,SAAA;EAEtB,IAAMG,OAAO,GAAG,SAAVA,OAAOA,CAAIC,KAAa,EAAK;IACjC,IAAMC,OAAiB,GAAG;MACxBd,EAAE,QAAAC,MAAA,CAAQc,IAAI,CAACC,GAAG,CAAC,CAAC,CAAE;MACtBd,OAAO,KAAAD,MAAA,CAAKY,KAAK,CAAE;MACnBV,MAAM,EAAE;IACV,CAAC;IACDO,KAAK,CAACO,IAAI,CAACH,OAAO,CAAC;IACnBH,QAAQ,CAAAO,kBAAA,CAAKR,KAAK,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC;EAED,IAAMS,UAAU,GAAG,SAAbA,UAAUA,CAAIC,QAAkB,EAAK;IACzC,IAAMC,KAAK,GAAGX,KAAK,CAACY,SAAS,CAAC,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAACvB,EAAE,KAAKoB,QAAQ,CAACpB,EAAE;IAAA,EAAC;IAC9DU,KAAK,CAACW,KAAK,CAAC,GAAGD,QAAQ;IACvBT,QAAQ,CAAAO,kBAAA,CAAKR,KAAK,CAAC,CAAC;EACtB,CAAC;EAED,IAAMc,UAAU,GAAG,SAAbA,UAAUA,CAAIC,MAAuB,EAAK;IAC9C,IAAMJ,KAAK,GAAGX,KAAK,CAACY,SAAS,CAAC,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAACvB,EAAE,KAAKyB,MAAM;IAAA,EAAC;IACzDf,KAAK,CAACgB,MAAM,CAACL,KAAK,EAAE,CAAC,CAAC;IACtBV,QAAQ,CAAAO,kBAAA,CAAKR,KAAK,CAAC,CAAC;EACtB,CAAC;EAED,OACEiB,KAAA,CAACvB,WAAW,CAACwB,QAAQ;IACnBf,KAAK,EAAE;MACLH,KAAK,EAALA,KAAK;MACLC,QAAQ,EAARA,QAAQ;MACRC,OAAO,EAAPA,OAAO;MACPO,UAAU,EAAVA,UAAU;MACVK,UAAU,EAAVA;IACF,CAAE;IAAAK,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAED5B,KAAK,CAAC6B,QACa,CAAC;AAE3B,CAAC;AAAC5B,EAAA,CAtCIF,YAAY;AAAA+B,EAAA,GAAZ/B,YAAY;AAwClB,eAAeA,YAAY;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}